<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link rel="previous" href="Dmlenu.html">
<link rel="next" href="Extra_sources.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Matching" rel="Chapter" href="Matching.html">
<link title="Completion" rel="Chapter" href="Completion.html">
<link title="Dmlenu" rel="Chapter" href="Dmlenu.html">
<link title="Sources" rel="Chapter" href="Sources.html">
<link title="Extra_sources" rel="Chapter" href="Extra_sources.html"><link title="An interactive source" rel="Section" href="#2_Aninteractivesource">
<link title="Predefined sources and sources builder" rel="Subsection" href="#3_Predefinedsourcesandsourcesbuilder">
<title>Sources</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Dmlenu.html" title="Dmlenu">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Extra_sources.html" title="Extra_sources">Next</a>
</div>
<h1>Module <a href="type_Sources.html">Sources</a></h1>

<pre><span class="keyword">module</span> Sources: <code class="code">sig</code> <a href="Sources.html">..</a> <code class="code">end</code></pre><div class="info module top">
Sources<br>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> = <code class="type"><a href="Completion.html#TYPEex_source">Completion.ex_source</a></code> </pre>

<br>
<h3 id="3_Predefinedsourcesandsourcesbuilder">Predefined sources and sources builder</h3><br>

<pre><span id="VALfiles"><span class="keyword">val</span> files</span> : <code class="type">?filter:(string -> bool) -> string -> <a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
A source that completes filenames in a given directory (or absolute filenames)<br>
</div>

<pre><span id="VALfrom_list"><span class="keyword">val</span> from_list</span> : <code class="type">(string * string * string) list -> <a href="Sources.html#TYPEt">t</a></code></pre>
<pre><span id="VALfrom_list_rev"><span class="keyword">val</span> from_list_rev</span> : <code class="type">(string * string * string) list -> <a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
A source built from a list (display, real, documentation).
    See <a href="Completion.html#TYPEcandidate"><code class="code">Completion.candidate</code></a> for more information about these.<br>
</div>

<pre><span id="VALfrom_list_"><span class="keyword">val</span> from_list_</span> : <code class="type">string list -> <a href="Sources.html#TYPEt">t</a></code></pre>
<pre><span id="VALfrom_list_rev_"><span class="keyword">val</span> from_list_rev_</span> : <code class="type">string list -> <a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
A source built from a list of candidates (display and real are the same, doc
    is empty).<br>
</div>

<pre><span id="VALbinaries"><span class="keyword">val</span> binaries</span> : <code class="type"><a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
A source that completes a binary of the system<br>
</div>

<pre><span id="VALswitch"><span class="keyword">val</span> switch</span> : <code class="type">((string -> bool) * <a href="Sources.html#TYPEt">t</a> Lazy.t) list -> <a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
<code class="code">switch guards</code> is a source that behaves like one of the sources in
    <code class="code">guards</code>. To know what it source it behave like, it applies the
    predicate to the input and uses the first matching source.<br>
</div>

<pre><span id="VALempty"><span class="keyword">val</span> empty</span> : <code class="type"><a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
The empty source.<br>
</div>

<pre><span id="VALpaths"><span class="keyword">val</span> paths</span> : <code class="type">coupled_with:<a href="Sources.html#TYPEt">t</a> -> <a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
A source that complete like <code class="code">coupled_with</code> except when what is before the
    cursor is (syntactically) a path, i.e. start with "/", "~/", or "./"<br>
</div>

<pre><span id="VALstdin"><span class="keyword">val</span> stdin</span> : <code class="type">?sep:string -> unit -> <a href="Sources.html#TYPEt">t</a></code></pre><div class="info ">
A source that reads its elements off stdin. If separator is not
    supplied, then there is a candidate per line and the real and
    display fields of the candidate is the same.  If it is supplied,
    then lines are split wrt it and the first part is used as the
    display and the second part as the real<br>
</div>
<br>
<h2 id="2_Aninteractivesource">An interactive source</h2><br>

<pre><span id="VALadd_subcommand"><span class="keyword">val</span> add_subcommand</span> : <code class="type">name:string -> <a href="Sources.html#TYPEt">t</a> list Lazy.t -> unit</code></pre><div class="info ">
<code class="code">add_subcommand ~name sources</code> adds <code class="code">sources</code> under the name <code class="code">name</code> in the
    list of subcommands used by <code class="code">binaries_with_subcommands</code><br>
</div>

<pre><span id="VALset_default_subcommand_hook"><span class="keyword">val</span> set_default_subcommand_hook</span> : <code class="type">(string -> <a href="Sources.html#TYPEt">t</a>) -> unit</code></pre><div class="info ">
When <code class="code">binaries_with_subcommands</code> doesn't find a subcommand of a given name
    <code class="code">n</code> it will call the default subcommand hook with the string <code class="code">n</code>.
<p>

    The default behavior of this hook (i.e. if this function is never called) is
    to look for a file <code class="code">"$HOME/.config/dmlenu/n"</code> and treat each line of this
    file as a completion candidate; if the file doesn't exists it behaves as
    <code class="code">paths ~coupled_with:binaries</code>.<br>
</div>

<pre><span id="VALbinaries_with_subcommands"><span class="keyword">val</span> binaries_with_subcommands</span> : <code class="type"><a href="Completion.html#TYPEprogram">Completion.program</a></code></pre><div class="info ">
Behaves as <code class="code">paths ~coupled_with:binaries</code> for the first completions, then
    looks in the subcommands list (see <a href="Sources.html#VALadd_subcommand"><code class="code">Sources.add_subcommand</code></a> and
    <a href="Sources.html#VALset_default_subcommand_hook"><code class="code">Sources.set_default_subcommand_hook</code></a>) for the following completions.<br>
</div>
</body></html>